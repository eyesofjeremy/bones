/******************************************************************
Site Name:
Author:

Stylesheet: Tablet & Small Desktop Stylesheet

Assuming your media queries are about right for tablets, you can
assume that we're getting fairly complex with our design about now.

******************************************************************/

%bleed {
  margin-left: -3rem;
  margin-right: -3rem;
}

/*********************
GENERAL STYLES
*********************/

body {}

/*********************
LAYOUT & GRID STYLES
*********************/

.site {
	box-shadow: 0 0 2.5em 1em rgba( 0, 0, 0, .25 );

  .columnar & {
  	max-width: $page_l;
  }
}

.columnar .wrap {
  padding: 0 3em;
}

.article-header > *,
.entry-content > *,
.article-footer > *,
.header .wrap,
.footer .wrap,
.sidebar > * {
  max-width: $page_l;
}

.entry-content {
  
  & > .alignwide {
    max-width: 80%;
  }

  * > .alignfull {
    max-width: none;
  }
}

.columnar .entry-content {
  
  & > .alignwide {
    max-width: none;
  }

  & > .alignfull {
    @extend %bleed;
  }
}

.bleed {
  @extend %bleed;
  padding: 1.5em 3em;
}


/* bleed to edge of page */
.nav-bleed {
  @extend %bleed;
  margin-top: 2em;
  padding: 0 .75em;
}

/*********************
HEADER STYLES
*********************/

.header {
  padding-top: 0;
}

  .logo {
    margin-left: -3em;
    padding-left: 3.5em;
    padding-right: 3.5em;
  }

	#logo {}

.quick-actions {
  right: 3em;
}

/*********************
NAVIGATION STYLES
*********************/

.header {

	.nav, .menu_toggle ~ nav {
	  border: none;
	  max-height: none;
	  overflow: visible;
	}
	
	.menu_toggle {
	  display: none;
	}
	
	nav {
	  li {
	    a {
	      font-size: 1em;
	    }
	  }
	}

  .menu-item-has-children {
    & > a {
      padding-right: 2em;
    
      &:before, &:after {
        content: '';
        transition: .2s ease-out;
        border-bottom: 2px solid $link_color;
        display: block;
        position: absolute;
        top: 50%;
        right: .7em;
        width: .5em;
        height: 0;
      }
      
      &:before {
        transform: rotate(45deg);
        right: 1em;
      }

      &:after {
        transform: rotate(-45deg);
      }
    
      &:focus {
        &:before, &:after {
          width: .75em;
          right: .75em;
        }
        
        &:before {
          transform: rotate(135deg);
        }
        &:after {
          transform: rotate(45deg);
        }
      }
    }
  }
}


.nav {
	border: 0;
	
	ul {
		margin-top:0;
	}

	li {
		position: relative;

    /*
    focus class gets applied by JS
    this covers up the anchor element, so clicking again
    removes :focus
    */
    &.focus {
      &:before {
        content: '';
        position: absolute;
        display: block;
        height: 100%;
        width: 100%;
        z-index: 1;
      }
    }

		a {
			border-bottom: 0;
			margin: 0;

			/*
			you can use hover styles here even though this size
			has the possibility of being a mobile device.
			*/
			&:hover, &:focus {
			}
		}

		&:first-child {}
		&:last-child {}

		/* showing sub-menus */
		& > a:active ~ ul,
		& > a:focus ~ ul {
			visibility:visible;
      opacity: 1;
      transform: none;
		}
	}

  /*
  plan your menus and drop-downs wisely.
  */
  .sub-menu,
  .children {
    top: 100%;
    margin-top: 0;
    min-width: 100%;
    background: $gray_light;
    border-top: 0;
    position: absolute;
    visibility: hidden;
    z-index: 8999;
    opacity: 0;
    transition: .2s all;
    transform: scaleY(0);
    transform-origin: top;

    li {
    
      a {
        padding-left: 10px;
        border-right: 0;
        display: block;
        min-width: 180px;

        &:hover,
        &:focus {}

        &:link {}
      }

      &:first-child {}

      &:last-child {}

      /*
      if you need to go deeper, go nuts
      just remember deeper menus suck
      for usability. k, bai.
      */
      ul {
        top:0;
        left:100%;
      }
    }

    /* highlight sub-menu current page */
    li.current-menu-item,
    li.current_page_item,
    li.current_page_ancestor {
      a {}
    }
  }
  
	/* highlight current page */
	li.current-menu-item,
	li.current_page_item,
	li.current_page_ancestor {
		a {}
	}  /* end current highlighters */

} /* end .nav */

.t-toggles {
  @import "../modules/toggles";
}

/*********************
POSTS & CONTENT STYLES
*********************/

#content {
	margin-top: 0;
}

  .hentry {
    margin-bottom: 1.5em;
    padding: 0 0 1.5em;
 
    display: flex;
    flex-flow: row wrap;

    header {
    
      flex: 1 100%;

      .featured-image, .featured-video-plus {
        max-width: $page_l + 6rem;
              
        & + h1 {
          position: relative;
          left: .75em;
          color: white;
          padding: .1875em .75em;
          box-sizing: border-box;
          background: $heading_color;
          border-radius: 1.5rem;
          
          @supports( mix-blend-mode:multiply ) {
            margin-top: -1em;
            padding-top: 1em;
            mix-blend-mode: multiply;
          }
        }
      }
      
      .link_large {
        padding-bottom: 0;
      }
    }
    
    section {
      flex: 1;
      
      & + section {
        margin-left: 3em;
      }
    }
    
  }
  
  .light-featured-image {
    header {
      .featured-image {
        & + h1 {
          color: $gray_dark;
        }
      }
    }
  }

  .callout {
    font-size: 1.3125em;
    line-height: 1.3125;
  }  


/*********************
HOME STYLES
*********************/

/*********************
SIDEBARS & ASIDES
*********************/

.sidebar {
	margin-top: 2.2em;
}

	.widgettitle {
		border-bottom: 2px solid #444;
		margin-bottom: 0.75em;
	}

	.widget {
		margin-top: 2.5em;

		ul {
			li {
				margin-bottom: 0.75em;

				&:first-child {}
				&:last-child {}
				a {}
				/* deep nesting */

				ul {
					margin-top: 0.75em;
					padding-left: 1em;
				}
			}
		}
	}


	/* links widget */
	.widget_links {}
	.widget_links ul {}
	.widget_links ul li {}
	.widget_links ul li a {}

	/* meta widget */
	.widget_meta {}
	.widget_meta ul {}
	.widget_meta ul li {}
	.widget_meta ul li a {}

	/* pages widget */
	.widget_pages {}
	.widget_pages ul {}
	.widget_pages ul li {}
	.widget_pages ul li a {}

	/* recent-posts widget */
	.widget_recent_entries {}
	.widget_recent_entries ul {}
	.widget_recent_entries ul li {}
	.widget_recent_entries ul li a {}

	/* archives widget */
	.widget_archive {}
	.widget_archive ul {}
	.widget_archive ul li {}
	.widget_archive ul li a {}
	.widget_archive select {}
	.widget_archive option {}

	/* tag-cloud widget */
	.widget_links {}
	.widget_links li:after {}
	.widget_links li:before {}
	.widget_tag_cloud {}
	.widget_tag_cloud a {}
	.widget_tag_cloud a:after {}
	.widget_tag_cloud a:before {}

	/* calendar widget */
	.widget_calendar {}
	#calendar_wrap {}
	#calendar_wrap th {}
	#calendar_wrap td {}
	#wp-calendar tr td {}
	#wp-calendar caption {}
	#wp-calendar a {}
	#wp-calendar #today {}
	#wp-calendar #prev {}
	#wp-calendar #next {}
	#wp-calendar #next a {}
	#wp-calendar #prev a {}

	/* category widget */
	.widget_categories {}
	.widget_categories ul {}
	.widget_categories ul li {}
	.widget_categories ul ul.children {}
	.widget_categories a {}
	.widget_categories select{}
	.widget_categories select#cat {}
	.widget_categories select.postform {}
	.widget_categories option {}
	.widget_categories .level-0 {}
	.widget_categories .level-1 {}
	.widget_categories .level-2 {}
	.widget_categories .level-3 {}

	/* recent-comments widget */
	.recentcomments {}
	#recentcomments {}
	#recentcomments li {}
	#recentcomments li a {}
	.widget_recent_comments {}

	/* search widget */
	#searchform {}
	.widget_search {}
	.screen-reader-text {}

	/* text widget */
	.textwidget {}
	.widget_text {}
	.textwidget p {}


/*********************
FOOTER STYLES
*********************/

/*
you'll probably need to do quite a bit
of overriding here if you styled them for
mobile. Make sure to double check these!
*/

.footer {
  text-align: left;
  border-width: 1em 0 3em;
  
  .nav {
    .sub-menu,
    .children {
      opacity: 1;
      visibility: visible;
      background: none;
      min-width: none;
    }
  }
  
  .logo, .widgets {
    float: left;
  }
  
  .widget {
  
    p {
      margin: 0 0 1em;
    }
  }
}

.copyright {
  clear: both;
}

.footer-links {
	ul {
		li {
			a {
				&:hover {}
			}
			/*
			be careful with the depth of your menus.
			it's very rare to have multi-depth menus in
			the footer.
			*/
			ul {}
		}
	}
} /* end .footer-links */

